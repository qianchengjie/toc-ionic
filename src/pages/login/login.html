<ion-header>

  <ion-navbar>
    <ion-title>登录</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form
  margin-vertical
  (ngSubmit)="login(loginForm.value)"
  [formGroup]="loginForm">
    <ion-item [ngClass]="{'ng-invalid ng-touched': phone.invalid && phone.touched}">
      <ion-label [color]="phone.invalid && phone.touched ? 'danger' : ''" floating>手机号</ion-label>
      <ion-input
        type="number"
        [formControl]="phone"
        name="phone"
        clearInput>
      </ion-input>
    </ion-item>
    <ion-grid padding-left>
      <ion-row>
        <ion-col col-8 no-padding>
          <ion-item no-padding [ngClass]="{'ng-invalid ng-touched': code.invalid && code.touched}">
            <ion-label [color]="code.invalid && code.touched ? 'danger' : ''" floating>验证码</ion-label>
            <ion-input type="number" [formControl]="code" name="code" clearInput></ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-4>
          <button class="send-code-btn" item-end ion-button small color="primary" [disabled]="time !== 30 || phone.invalid" (click)="sendCode()">
            {{time === 30 ? '获取验证码' : '已发送 ' + time}}
          </button>
        </ion-col>
      </ion-row>
      <ion-row>
        <button color="primary" [disabled]="!loginForm.valid" ion-button block>登录</button>
      </ion-row>
    </ion-grid>
  </form>

      <!-- item-end ion-button small -->

  <!-- <form class="form" >
    <ion-item [class.error]="username.invalid && username.touched">
      <ion-label>用户名</ion-label>
      <ion-input [formControl]="username" type="text" clearInput></ion-input>
    </ion-item>
    <div *ngIf="username.invalid && username.touched" class="alert">
      <div *ngIf="username.errors.required">
        请输入用户名
      </div>
    </div>
    <ion-item [class.error]="password.invalid && password.touched">
      <ion-label>密码</ion-label>
      <ion-input [formControl]="password" type="password" clearInput></ion-input>
    </ion-item>
    <div *ngIf="password.invalid && password.touched" class="alert">
      <div *ngIf="password.errors.required">
        请输入密码
      </div>
    </div>
    <button [ngStyle]="{ marginTop: 0, backgroundColor: '#F0DB4FFF', color: 'black' }" color="primary" [disabled]="!loginForm.valid" ion-button block>登录</button>
  </form> -->

  <!-- <span float-left [style.color]="'#888'">注册</span> -->
  <!-- <span float-right [style.color]="'#888'">忘记密码</span> -->
</ion-content>
